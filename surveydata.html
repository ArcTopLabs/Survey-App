<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="css/bootstrap.min.css" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="css/bootstrap-theme.min.css" crossorigin="anonymous">

        <link href="css/starter-template.css" rel="stylesheet">

				<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>
<script src="surveyjs/survey.ko.min.js"></script>

        <!-- Latest compiled and minified JavaScript -->
        <script src="js/bootstrap.min.js" crossorigin="anonymous"></script>
        <script>

	
		
		
            $(document).ready(function () {
			
			
			
			    	
		Survey.Survey.cssType = "bootstrap";
var survey = new Survey.Survey(
{pages:[{name:"page1",questions:[{type:"radiogroup",name:"frameworkUsing",title:"Do you use any front-end framework like Bootstrap?",isRequired:true,choices:["Yes","No"]},{type:"checkbox",name:"framework",visible:false,title:"What front-end framework do you use?",isRequired:true,hasOther:true,choices:["Bootstrap","Foundation"]}]},{name:"page2",questions:[{type:"radiogroup",name:"mvvmUsing",title:"Do you use any MVVM framework?",isRequired:true,choices:["Yes","No"]},{type:"checkbox",name:"mvvm",visible:false,title:"What MVVM framework do you use?",isRequired:true,hasOther:true,choices:["AngularJS","KnockoutJS","React"]}]},{name:"page3",questions:[{type:"comment",name:"about",title:"Please tell us about your main requirements for Survey library"}]}],title:"Tell us, what technologies do you use?",triggers:[{type:"visible",operator:"equal",value:"Yes",name:"frameworkUsing",questions:["framework"]},{type:"visible",operator:"equal",value:"Yes",name:"mvvmUsing",questions:["mvvm"]}]});
survey.onComplete.add(function (s) {
alert("The results are:" + JSON.stringify(s.data));
 });
survey.render("mySurveyJSName");
			
			
			
                var mytable = $('#example').DataTable({
                    "paging": true,
                    "lengthChange": false,
                    "searching": false,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "sDom": 'lfrtip'
                });
                $("button").click(function () {

                var SendInfo = {"sort": {"created_date": "desc"}};
                    var dataString = JSON.stringify(SendInfo);

                    var SendInfo = { "sort": {
                            "name": "desc"
                        }};
                    mytable.clear();
                    mytable.draw();
//                    alert("canvas clear");
                    $.ajax({
                        url: 'http://api.masterdatanode.com/unix/memory/find/',
                        type: 'post',
//                        data: {},
                       data: dataString,
                        headers: {
                            "access_token": 'Zs0nTQB-ujOSV0KmEoPhBx2E6-Ab_GKO',
                            "Content-Type": 'application/json'
                        },
                        dataType: 'json',
                        success: function (data) {

                            console.info(JSON.stringify(data));

                            //$("#test_div").html(JSON.stringify(data));
                            $("#test_div").show();
                            var obj = JSON.parse(JSON.stringify(data));
                            /* for(var i = 0; i < obj.result.length; i++) {
                             var obj1 = data[i];
                             
                             console.log(obj1.id);
                             } */
                            //var mytable =  $('#example').DataTable();
                            var result = $.parseJSON(JSON.stringify(obj.result));



                            $.each(result, function (k, jsonObject) {
                                //display the key and value pair
                                //alert(k + ' is ' + jsonObject);

                                var result12 = [];
                                result12.push(jsonObject.machine);
                                result12.push(jsonObject.used_per);
                                result12.push(jsonObject.total);
                                result12.push(jsonObject.used);
                                result12.push(jsonObject.available);
                                result12.push(jsonObject.created_date);


                                // .... add all the values required
                                console.info(result12);



                                //var jsdata = JSON.parse(v);

                                mytable.row.add(result12);


                            });

                            mytable.draw();
                            //mytable.draw();
                            console.info(JSON.stringify(obj.result));





                        }
                    });
                });
            });
        </script>
    </head>
    <body>


        <div class="container " style="text-align: center;">

            <div >
                <h1>Survey</h1>
            </div>
            <div >
                User Survey Editor to get your suvey ready <a href="http://surveyjs.org/builder/" > Click Here </a>
            </div>
          

        </div>
		
		
		 <div class="container " style="text-align: left;">
		 
		 <div id= "mySurveyJSName" style="display:block" class="col-lg-12" style="text-align: left;"></div>
		 </div>
		
		


    </body>
</html>
